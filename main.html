<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Coogle</title>
  <style>
    body{
      font-family: Arial, sans-serif;
      margin:0;
      background:#fff;
      color:#202124;
    }
    .wrap{
      min-height:100vh;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      padding:24px;
    }
    .logo{
      font-size:4.2rem;
      font-weight:700;
      letter-spacing:-2px;
      user-select:none;
      margin-bottom:18px;
      font-family: 'Product Sans', Arial, sans-serif;
    }
    .logo .g{color:#4285F4}
    .logo .o1{color:#EA4335}
    .logo .o2{color:#FBBC05}
    .logo .g2{color:#4285F4}
    .logo .l{color:#34A853}
    .logo .e{color:#EA4335}

    .search-area{
      width:100%;
      max-width:620px;
      position:relative;
    }
    .search-box{
      width:100%;
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      border:1px solid #dfe1e5;
      border-radius:999px;
      box-shadow:0 1px 3px rgba(60,64,67,.08);
      transition:.2s;
      background:#fff;
    }
    .search-box:focus-within{
      box-shadow:0 1px 8px rgba(32,33,36,.28);
      border-color:#4285F4;
    }
    .search-box input{
      border:none;
      outline:none;
      font-size:1.1rem;
      width:100%;
      padding:6px 2px;
    }

    .suggest{
      position:absolute;
      top:100%;
      left:0;
      right:0;
      background:#fff;
      border:1px solid #e0e0e0;
      border-radius:12px;
      margin-top:8px;
      box-shadow:0 8px 24px rgba(0,0,0,.12);
      display:none;
      overflow:hidden;
      z-index:5;
    }
    .suggest.show{ display:block; }
    .suggest-item{
      padding:10px 14px;
      cursor:pointer;
      display:flex;
      justify-content:space-between;
      align-items:center;
      font-size:1rem;
    }
    .suggest-item:hover{ background:#f1f3f4; }
    .suggest-item small{ color:#70757a; }

    .actions{
      margin-top:22px;
      display:flex;
      gap:10px;
    }
    .btn{
      padding:9px 18px;
      background:#f8f9fa;
      border:1px solid #f8f9fa;
      border-radius:4px;
      font-size:.95rem;
      cursor:pointer;
      color:#3c4043;
      transition:.2s;
    }
    .btn:hover{ border-color:#dadce0; }

    .recent{
      width:100%;
      max-width:620px;
      margin-top:22px;
      color:#5f6368;
      font-size:.95rem;
    }
    .recent h4{ margin:0 0 8px; font-weight:600; }
    .recent-list{
      display:flex; flex-wrap:wrap; gap:8px;
    }
    .chip{
      background:#f1f3f4;
      padding:6px 10px;
      border-radius:999px;
      cursor:pointer;
    }
    .chip:hover{ background:#e8eaed; }

    .footer{
      position:fixed;
      bottom:0;
      width:100%;
      background:#f2f2f2;
      padding:10px 18px;
      font-size:.9rem;
      color:#70757a;
      display:flex;
      justify-content:center;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="logo">
      <span class="g">C</span><span class="o1">o</span><span class="o2">o</span><span class="g2">g</span><span class="l">l</span><span class="e">e</span>
    </div>

    <div class="search-area">
      <form id="searchForm" class="search-box" autocomplete="off">
        <input id="searchInput" type="text" placeholder="Search Coogle or type a URL" />
      </form>
      <div id="suggestBox" class="suggest"></div>
    </div>

    <div class="actions">
      <button class="btn" id="searchBtn">Coogle Search</button>
      <button class="btn" type="button" onclick="lucky()">I'm Feeling Lucky</button>
    </div>

    <div class="recent" id="recentWrap" style="display:none;">
      <h4>Recent searches</h4>
      <div class="recent-list" id="recentList"></div>
    </div>
  </div>

  <div class="footer">Coogle — In-Game Search Engine</div>

  <script>
    // คำแนะนำ sample (จริง ๆ ควร sync กับ results.html)
    const SUGGEST_POOL = [
      "parin", "maze bank", "real estate", "lifeinvader",
      "car mods", "investment", "house rent", "social network"
    ];

    const form = document.getElementById('searchForm');
    const input = document.getElementById('searchInput');
    const searchBtn = document.getElementById('searchBtn');
    const suggestBox = document.getElementById('suggestBox');

    function saveRecent(q){
      const key="coogle_recent";
      const old=JSON.parse(localStorage.getItem(key)||"[]");
      const next=[q, ...old.filter(x=>x!==q)].slice(0,8);
      localStorage.setItem(key, JSON.stringify(next));
      renderRecent();
    }

    function renderRecent(){
      const key="coogle_recent";
      const list=JSON.parse(localStorage.getItem(key)||"[]");
      const wrap=document.getElementById("recentWrap");
      const ul=document.getElementById("recentList");
      if(!list.length){ wrap.style.display="none"; return; }
      wrap.style.display="block";
      ul.innerHTML=list.map(q=>`<div class="chip" onclick="goSearch('${q.replace(/'/g,"\\'")}')">${q}</div>`).join("");
    }

    function goSearch(forceQ){
      const q = (forceQ ?? input.value).trim();
      if(!q) return;
      saveRecent(q);
      window.location.href = `results.html?q=${encodeURIComponent(q)}&tab=all&page=1`;
    }

    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      goSearch();
    });
    searchBtn.addEventListener('click', ()=>goSearch());

    function lucky(){
      const q=SUGGEST_POOL[Math.floor(Math.random()*SUGGEST_POOL.length)];
      input.value=q;
      goSearch(q);
    }

    // autocomplete
    input.addEventListener("input", ()=>{
      const q=input.value.toLowerCase().trim();
      if(!q){ suggestBox.classList.remove("show"); return; }
      const hits=SUGGEST_POOL.filter(s=>s.toLowerCase().includes(q)).slice(0,6);
      if(!hits.length){ suggestBox.classList.remove("show"); return; }
      suggestBox.innerHTML = hits.map(h=>`
        <div class="suggest-item" onclick="pickSuggest('${h.replace(/'/g,"\\'")}')">
          <span>${h}</span><small>suggest</small>
        </div>`).join("");
      suggestBox.classList.add("show");
    });

    function pickSuggest(v){
      input.value=v;
      suggestBox.classList.remove("show");
      goSearch(v);
    }

    document.addEventListener("click",(e)=>{
      if(!suggestBox.contains(e.target) && e.target!==input){
        suggestBox.classList.remove("show");
      }
    });

    renderRecent();
  </script>
</body>
</html>
